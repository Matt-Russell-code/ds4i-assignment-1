<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FFNN-MLP Avalanche Risk ‚Äî Comprehensive Report</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-start:#f7f8fb;
      --bg-end:#eef2f7;

      --ink-strong:#0f172a;
      --ink:#334155;

      --card:#ffffff;
      --card-border:#e5e7eb;

      --brand-a:#475569;
      --brand-b:#64748b;

      --sage:#6b9080;
      --steel:#577590;
      --tan:#a98467;
      --rose:#b56576;
      --slateblue:#8d99ae;

      --tint-blue:#eef2ff;
      --tint-green:#f0f9f6;
      --tint-yellow:#fff8eb;

      --grid:#e5e7eb;
      --tooltip-bg:rgba(17,24,39,0.9);
      --tooltip-border:rgba(255,255,255,0.15);
    }

    body{
      font-family:'Inter',sans-serif;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      background:linear-gradient(135deg,var(--bg-start) 0%,var(--bg-end) 100%);
      color:var(--ink);
    }
    .report-container{max-width:1400px;margin:0 auto;padding:2rem;}

    .section-card{
      background:var(--card);
      border-radius:16px;
      box-shadow:0 8px 24px rgba(15,23,42,0.06);
      margin-bottom:2rem;
      overflow:hidden;
      border:1px solid var(--card-border);
    }

    .gradient-header{
      background:linear-gradient(135deg,var(--brand-a) 0%,var(--brand-b) 100%);
      color:white;padding:2rem;position:relative;overflow:hidden;
    }
    .gradient-header::before{
      content:'';position:absolute;inset:0;
      background:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.08'%3E%3Ccircle cx='7' cy='7' r='7'/%3E%3Ccircle cx='53' cy='53' r='7'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E") no-repeat center/cover;
      opacity:.35;
    }
    .gradient-header>*{position:relative;z-index:1}

    .metric-card{
      position:relative;overflow:hidden;text-align:center;
      padding:1.25rem;border-radius:12px;background:#f7f8fb;color:var(--ink-strong);
      border:1px solid var(--card-border);
    }
    .metric-card::before{
      content:'';position:absolute;inset:0 0 0 0;
      background:linear-gradient(90deg,rgba(100,116,139,0.15),transparent 35%);
      pointer-events:none;
    }
    .metric-card .text-xs{color:#64748b}

    .architecture-node{
      background:linear-gradient(135deg,#5b677a 0%,#748397 100%);
      color:white;border-radius:50%;width:60px;height:60px;
      display:flex;align-items:center;justify-content:center;
      font-weight:700;font-size:.9rem;box-shadow:0 3px 10px rgba(100,116,139,.25);
      transition:transform .25s ease;
    }
    .architecture-node:hover{transform:scale(1.06)}

    .confusion-matrix{
      display:grid;grid-template-columns:repeat(6,1fr);gap:1px;background:#e2e8f0;border-radius:8px;overflow:hidden;
    }
    .confusion-cell{background:white;padding:.75rem;text-align:center;font-size:.875rem}
    .confusion-header{
      background:linear-gradient(135deg,#94a3b8 0%,#64748b 100%);
      color:white;font-weight:600
    }
    .confusion-diagonal{
      background:linear-gradient(135deg,#a3b4c7 0%,#7b8da3 100%);
      color:white;font-weight:700
    }

    .tab-button{
      padding:.75rem 1.5rem;border:none;background:#e5e7eb;color:#64748b;
      border-radius:8px 8px 0 0;cursor:pointer;font-weight:500;transition:all .25s ease;
    }
    .tab-button.active{
      background:linear-gradient(135deg,#94a3b8 0%,#64748b 100%);color:white
    }
    .tab-content{display:none;padding:2rem}
    .tab-content.active{display:block}

    .performance-badge{display:inline-flex;align-items:center;padding:.4rem .9rem;border-radius:20px;font-size:.85rem;font-weight:500;margin:.25rem}
    .performance-excellent{background:#dff3ea;color:#2f6e5b;border:1px solid #c8e6d9}
    .performance-good{background:#e7eef8;color:#2d4f78;border:1px solid #d6e1f3}
    .performance-moderate{background:#fff3d9;color:#7a5a16;border:1px solid #ffe8b0}
    .performance-poor{background:#fce8e9;color:#7a2f38;border:1px solid #f7d1d5}

    .panel-blue{background:var(--tint-blue);border:1px solid #dbe5ff}
    .panel-green{background:var(--tint-green);border:1px solid #cfe9e1}
    .panel-yellow{background:var(--tint-yellow);border:1px solid #ffe3b3}
  </style>
</head>
<body>
  <div class="report-container">
    <!-- Header -->
    <div class="section-card">
      <div class="gradient-header">
        <h1 class="text-4xl font-bold mb-2">FFNN-MLP Avalanche Risk Model Report</h1>
        <p class="text-xl opacity-90">Comprehensive Performance Analysis for Multi-Class Avalanche Risk Classification</p>
        <div class="mt-4 text-sm opacity-90">
          <span class="bg-white/15 px-3 py-1 rounded-full mr-3">H2O Deep Learning Framework</span>
          <span class="bg-white/15 px-3 py-1 rounded-full mr-3">Engineered + One-Hot Predictors</span>
          <span class="bg-white/15 px-3 py-1 rounded-full">5-Class Classification</span>
        </div>
      </div>
    </div>

    <!-- Executive Summary -->
    <div class="section-card">
      <div class="p-6">
        <h2 class="text-2xl font-bold text-slate-800 mb-4">Executive Summary</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
          <div class="metric-card">
            <div class="text-sm font-semibold mb-1">OVERALL ACCURACY</div>
            <div class="text-3xl font-bold mb-1">75.4%</div>
            <div class="text-xs">Test set (FFNN-MLP)</div>
          </div>
          <div class="metric-card">
            <div class="text-sm font-semibold mb-1">COHEN'S KAPPA</div>
            <div class="text-3xl font-bold mb-1">0.645</div>
            <div class="text-xs">Substantial agreement</div>
          </div>
          <div class="metric-card">
            <div class="text-sm font-semibold mb-1">MACRO PRECISION</div>
            <div class="text-3xl font-bold mb-1">0.633</div>
            <div class="text-xs">Mean across 5 classes</div>
          </div>
          <div class="metric-card">
            <div class="text-sm font-semibold mb-1">MACRO RECALL</div>
            <div class="text-3xl font-bold mb-1">0.618</div>
            <div class="text-xs">Mean across 5 classes</div>
          </div>
          <div class="metric-card">
            <div class="text-sm font-semibold mb-1">MACRO F1-SCORE</div>
            <div class="text-3xl font-bold mb-1">0.612</div>
            <div class="text-xs">Mean across 5 classes</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Tabs -->
    <div class="section-card">
      <div class="flex border-b">
        <button class="tab-button active" onclick="showTab(event,'architecture')">Model Architecture</button>
        <button class="tab-button" onclick="showTab(event,'performance')">Performance Analysis</button>
        <button class="tab-button" onclick="showTab(event,'confusion')">Confusion Matrix</button>
        <button class="tab-button" onclick="showTab(event,'features')">Feature Importance</button>
      </div>

      <!-- Architecture -->
      <div id="architecture" class="tab-content active">
        <h3 class="text-xl font-bold text-slate-800 mb-6">Optimized Neural Network Architecture</h3>
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <div>
            <h4 class="text-lg font-semibold text-slate-700 mb-4">Search Space & Selection</h4>
            <ul class="list-disc pl-5 space-y-2 text-sm text-slate-700">
              <li>Randomized grid over <strong>2‚Äì4 hidden layers</strong> with tuned neuron counts.</li>
              <li>Input: engineered features + <strong>one-hot</strong> categoricals.</li>
              <li><strong>Class weighting</strong> used to address imbalance; <strong>early stopping</strong> to avoid overfitting.</li>
              <li>Output: <strong>Softmax</strong> (5 classes).</li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold text-slate-700 mb-4">Illustrative Configuration</h4>
            <div class="space-y-4">
              <div class="flex items-center space-x-4 p-4 bg-gradient-to-r from-slate-50 to-slate-100 rounded-lg">
                <div class="architecture-node">IN</div>
                <div>
                  <div class="font-semibold text-slate-800">Input Layer</div>
                  <div class="text-sm text-slate-600">Engineered + One-Hot Predictors</div>
                </div>
              </div>
              <div class="flex items-center space-x-4 p-4 bg-gradient-to-r from-slate-50 to-slate-100 rounded-lg">
                <div class="architecture-node">H1</div>
                <div>
                  <div class="font-semibold text-slate-800">Hidden Layer 1</div>
                  <div class="text-sm text-slate-600">Tuned width ‚Ä¢ Nonlinear activation</div>
                </div>
              </div>
              <div class="flex items-center space-x-4 p-4 bg-gradient-to-r from-slate-50 to-slate-100 rounded-lg">
                <div class="architecture-node">H2</div>
                <div>
                  <div class="font-semibold text-slate-800">Hidden Layer 2</div>
                  <div class="text-sm text-slate-600">Tuned width ‚Ä¢ Nonlinear activation</div>
                </div>
              </div>
              <div class="flex items-center space-x-4 p-4 bg-gradient-to-r from-slate-50 to-slate-100 rounded-lg">
                <div class="architecture-node">OUT</div>
                <div>
                  <div class="font-semibold text-slate-800">Output Layer</div>
                  <div class="text-sm text-slate-600">5 classes ‚Ä¢ Softmax probabilities</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Performance -->
      <div id="performance" class="tab-content">
        <h3 class="text-xl font-bold text-slate-800 mb-6">Detailed Performance Analysis</h3>
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <div>
            <h4 class="text-lg font-semibold text-slate-700 mb-4">Per-Class F1 Scores (FFNN-MLP)</h4>
            <div class="relative h-[300px] w-full my-4"><canvas id="f1Chart"></canvas></div>
          </div>
          <div>
            <h4 class="text-lg font-semibold text-slate-700 mb-4">Precision vs Recall (FFNN-MLP)</h4>
            <div class="relative h-[300px] w-full my-4"><canvas id="precisionRecallChart"></canvas></div>
          </div>
        </div>

        <div class="mt-8">
          <h4 class="text-lg font-semibold text-slate-700 mb-4">Class Performance Highlights</h4>
          <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
            <div class="text-center p-4 rounded-lg border border-emerald-200" style="background:#f3fbf7">
              <div class="font-semibold text-emerald-800">Low Risk</div>
              <div class="text-2xl font-bold text-emerald-700 mt-2">0.887</div>
              <div class="performance-badge performance-excellent">Excellent</div>
              <div class="text-sm text-emerald-700 mt-2">High precision & recall</div>
            </div>
            <div class="text-center p-4 rounded-lg border border-slate-200" style="background:#f1f5fb">
              <div class="font-semibold text-slate-800">Moderate</div>
              <div class="text-2xl font-bold text-slate-700 mt-2">0.724</div>
              <div class="performance-badge performance-good">Good</div>
              <div class="text-sm text-slate-700 mt-2">Balanced performance</div>
            </div>
            <div class="text-center p-4 rounded-lg border border-amber-200" style="background:#fff8eb">
              <div class="font-semibold text-amber-900">Considerable ‚Äì</div>
              <div class="text-2xl font-bold text-amber-800 mt-2">0.673</div>
              <div class="performance-badge performance-moderate">Moderate</div>
              <div class="text-sm text-amber-800 mt-2">Some confusion</div>
            </div>
            <div class="text-center p-4 rounded-lg border border-rose-200" style="background:#fff1f3">
              <div class="font-semibold text-rose-900">High</div>
              <div class="text-2xl font-bold text-rose-800 mt-2">0.528</div>
              <div class="performance-badge performance-moderate">Moderate</div>
              <div class="text-sm text-rose-800 mt-2">Low precision</div>
            </div>
            <div class="text-center p-4 rounded-lg border border-slate-200" style="background:#f3f5f8">
              <div class="font-semibold text-slate-800">Considerable +</div>
              <div class="text-2xl font-bold text-slate-700 mt-2">0.248</div>
              <div class="performance-badge performance-poor">Challenging</div>
              <div class="text-sm text-slate-700 mt-2">Class imbalance</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Confusion Matrix -->
      <div id="confusion" class="tab-content">
        <h3 class="text-xl font-bold text-slate-800 mb-6">Confusion Matrix (FFNN-MLP ‚Äî hardcoded)</h3>

        <div class="mb-6">
          <div class="confusion-matrix">
            <div class="confusion-cell confusion-header">Actual \ Predicted</div>
            <div class="confusion-cell confusion-header">Low</div>
            <div class="confusion-cell confusion-header">Moderate</div>
            <div class="confusion-cell confusion-header">Considerable ‚Äì</div>
            <div class="confusion-cell confusion-header">Considerable +</div>
            <div class="confusion-cell confusion-header">High</div>

            <div class="confusion-cell confusion-header">Low</div>
            <div class="confusion-cell confusion-diagonal">536</div>
            <div class="confusion-cell">17</div>
            <div class="confusion-cell">2</div>
            <div class="confusion-cell">0</div>
            <div class="confusion-cell">0</div>

            <div class="confusion-cell confusion-header">Moderate</div>
            <div class="confusion-cell">112</div>
            <div class="confusion-cell confusion-diagonal">369</div>
            <div class="confusion-cell">41</div>
            <div class="confusion-cell">6</div>
            <div class="confusion-cell">0</div>

            <div class="confusion-cell confusion-header">Considerable ‚Äì</div>
            <div class="confusion-cell">4</div>
            <div class="confusion-cell">103</div>
            <div class="confusion-cell confusion-diagonal">250</div>
            <div class="confusion-cell">56</div>
            <div class="confusion-cell">10</div>

            <div class="confusion-cell confusion-header">Considerable +</div>
            <div class="confusion-cell">1</div>
            <div class="confusion-cell">0</div>
            <div class="confusion-cell">17</div>
            <div class="confusion-cell confusion-diagonal">14</div>
            <div class="confusion-cell">1</div>

            <div class="confusion-cell confusion-header">High</div>
            <div class="confusion-cell">0</div>
            <div class="confusion-cell">1</div>
            <div class="confusion-cell">10</div>
            <div class="confusion-cell">3</div>
            <div class="confusion-cell confusion-diagonal">14</div>
          </div>
        </div>
      </div>

      <!-- Feature Importance -->
      <div id="features" class="tab-content">
        <h3 class="text-xl font-bold text-slate-800 mb-6">Feature Importance (FFNN-MLP ‚Äî exact labels & values)</h3>
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <div>
            <div class="relative h-[420px] w-full my-4"><canvas id="featureChart"></canvas></div>
            <p class="text-xs text-slate-500">
              Exact variables and values plotted as provided. X-axis = Relative importance. Y-axis = Variable.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold text-slate-700 mb-3">Top Signals & Groups</h4>
            <ul class="list-disc pl-5 space-y-2 text-sm text-slate-700">
              <li><strong>FAH</strong> levels dominate (Moderate, Low, Considerable ¬±, High).</li>
              <li><strong>Alt</strong> and <strong>Snow.Index</strong> add strong physical signal.</li>
              <li><strong>Precip.Code.*</strong> and <strong>season.*</strong> dummies contribute across the board.</li>
              <li><strong>Area.*</strong> effects appear modest but consistent.</li>
            </ul>
          </div>
        </div>
      </div>

    </div>

    <!-- Model Evaluation Summary -->
    <div class="section-card">
      <div class="p-6">
        <h3 class="text-xl font-bold text-slate-800 mb-4">Model Evaluation Summary</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div class="text-center p-6 rounded-lg border border-emerald-200" style="background:#f3fbf7">
            <div class="text-3xl mb-2">‚úÖ</div>
            <div class="font-semibold text-emerald-800 mb-2">Strengths</div>
            <ul class="text-sm text-emerald-900/80 space-y-1">
              <li>Best overall accuracy (<strong>0.754</strong>) & kappa (<strong>0.645</strong>).</li>
              <li>Macro precision/recall balanced (<strong>0.633</strong> / <strong>0.618</strong>).</li>
              <li>Strong performance on <em>Low</em> and <em>Moderate</em>; solid diagonal in confusion matrix.</li>
            </ul>
          </div>
          <div class="text-center p-6 rounded-lg border border-amber-200" style="background:#fff8eb">
            <div class="text-3xl mb-2">‚ö†Ô∏è</div>
            <div class="font-semibold text-amber-900 mb-2">Challenges</div>
            <ul class="text-sm text-amber-900/80 space-y-1">
              <li>Class imbalance: <em>High</em> & <em>Considerable +</em> remain difficult.</li>
              <li>Boundary confusion between <em>Considerable ‚àí</em> and <em>Considerable +</em>.</li>
            </ul>
          </div>
          <div class="text-center p-6 rounded-lg border border-slate-200" style="background:#f1f5fb">
            <div class="text-3xl mb-2">üéØ</div>
            <div class="font-semibold text-slate-800 mb-2">Recommendations</div>
            <ul class="text-sm text-slate-800/80 space-y-1">
              <li>Try cost-sensitive learning / focal loss and class-specific thresholding.</li>
              <li>Augment rare-class signal (targeted sampling; additional covariates).</li>
              <li>Explore small ensembles around the FFNN-MLP best config.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  </div>

  <script>
    function showTab(event, tabName){
      document.querySelectorAll('.tab-content').forEach(t=>t.classList.remove('active'));
      document.querySelectorAll('.tab-button').forEach(b=>b.classList.remove('active'));
      document.getElementById(tabName).classList.add('active');
      event.target.classList.add('active');
    }

    document.addEventListener('DOMContentLoaded', ()=>{

      const C_SAGE   = 'rgba(107,144,128,0.85)';  // Low
      const C_STEEL  = 'rgba(87,117,144,0.85)';   // Moderate
      const C_TAN    = 'rgba(169,132,103,0.85)';  // Considerable ‚Äì
      const C_ROSE   = 'rgba(181,101,118,0.85)';  // High
      const C_SLATEB = 'rgba(141,153,174,0.85)';  // Considerable +

      const B_SAGE   = 'rgb(107,144,128)';
      const B_STEEL  = 'rgb(87,117,144)';
      const B_TAN    = 'rgb(169,132,103)';
      const B_ROSE   = 'rgb(181,101,118)';
      const B_SLATEB = 'rgb(141,153,174)';

      /* F1 bar */
      new Chart(document.getElementById('f1Chart').getContext('2d'),{
        type:'bar',
        data:{
          labels:['Low','Moderate','Considerable ‚Äì','High','Considerable +'],
          datasets:[{
            label:'F1-Score',
            data:[0.887, 0.724, 0.673, 0.528, 0.248],
            backgroundColor:[C_SAGE,C_STEEL,C_TAN,C_ROSE,C_SLATEB],
            borderColor:[B_SAGE,B_STEEL,B_TAN,B_ROSE,B_SLATEB],
            borderWidth:2,borderRadius:6
          }]
        },
        options:{
          responsive:true,maintainAspectRatio:false,
          plugins:{ legend:{display:false},
            tooltip:{ backgroundColor:getComputedStyle(document.documentElement).getPropertyValue('--tooltip-bg'),
                      borderColor:getComputedStyle(document.documentElement).getPropertyValue('--tooltip-border'),
                      borderWidth:1,titleColor:'#fff',bodyColor:'#fff'} },
          scales:{
            y:{beginAtZero:true,max:1,grid:{color:'rgba(0,0,0,0.08)'},ticks:{callback:v=>v.toFixed(2)}},
            x:{grid:{display:false}}
          }
        }
      });

      /* Precision‚ÄìRecall scatter */
      new Chart(document.getElementById('precisionRecallChart').getContext('2d'),{
        type:'scatter',
        data:{datasets:[
          {label:'Low',            data:[{x:0.8208270, y:0.9657658}], backgroundColor:C_SAGE,   borderColor:B_SAGE,   pointRadius:10},
          {label:'Moderate',       data:[{x:0.7515275, y:0.6988636}], backgroundColor:C_STEEL,  borderColor:B_STEEL,  pointRadius:10},
          {label:'Considerable ‚Äì', data:[{x:0.7812500, y:0.5910165}], backgroundColor:C_TAN,    borderColor:B_TAN,    pointRadius:10},
          {label:'Considerable +', data:[{x:0.1772152, y:0.4117647}], backgroundColor:C_SLATEB, borderColor:B_SLATEB, pointRadius:10},
          {label:'High',           data:[{x:0.5600000, y:0.5000000}], backgroundColor:C_ROSE,   borderColor:B_ROSE,   pointRadius:10},
        ]},
        options:{
          responsive:true,maintainAspectRatio:false,
          plugins:{ legend:{position:'right'},
            tooltip:{ backgroundColor:getComputedStyle(document.documentElement).getPropertyValue('--tooltip-bg'),
                      borderColor:getComputedStyle(document.documentElement).getPropertyValue('--tooltip-border'),
                      borderWidth:1,titleColor:'#fff',bodyColor:'#fff',
                      callbacks:{label:(c)=>`${c.dataset.label}: Recall=${c.parsed.x.toFixed(3)}, Precision=${c.parsed.y.toFixed(3)}`}} },
          scales:{
            x:{title:{display:true,text:'Recall (Sensitivity)'},min:0,max:1,grid:{color:'rgba(0,0,0,0.08)'}},
            y:{title:{display:true,text:'Precision'},min:0,max:1,grid:{color:'rgba(0,0,0,0.08)'}}
          }
        }
      });

      /* Feature Importance ‚Äî EXACT labels and values (order preserved) */
      const featLabels = [
        'FAH.Moderate','FAH.Low','FAH.Considerable -','FAH.Considerable +','FAH.High',
        'Alt','Snow.Index','Precip.Code.0 - None','FAH.','Precip.Code.',
        'season.season12','season.season5','season.season3','season.season8','season.season7','season.season6',
        'Area.Glencoe','season.season16','season.season9','Area.Torridon','season.season14','season.season15',
        'Precip.Code.2 - Trace','season.season10','season.season1','Precip.Code.6 - Snow Showers',
        'Precip.Code.8 - Snow','Area.Southern Cairngorms','Precip.Code.4 - Light Showers','Precip.Code.10 - Heavy Snow'
      ];

      const featValues = [
        1.00, 0.95, 0.90, 0.88, 0.85,
        0.55, 0.45, 0.40, 0.38, 0.37,
        0.35, 0.35, 0.34, 0.34, 0.34, 0.34,
        0.33, 0.33, 0.33, 0.33, 0.32, 0.32,
        0.31, 0.30, 0.30, 0.29,
        0.29, 0.29, 0.28, 0.28
      ];

      const BLUE = [59,130,246];
      const featBG = featValues.map(v => `rgba(${BLUE[0]},${BLUE[1]},${BLUE[2]}, ${0.35 + 0.60*v})`);
      const featBorder = `rgb(${BLUE[0]},${BLUE[1]},${BLUE[2]})`;

      new Chart(document.getElementById('featureChart').getContext('2d'),{
        type:'bar',
        data:{
          labels: featLabels,
          datasets:[{
            label:'Relative Importance',
            data: featValues,
            backgroundColor: featBG,
            borderColor: featBorder,
            borderWidth: 1.5,
            borderRadius: 4
          }]
        },
        options:{
          responsive:true,maintainAspectRatio:false,indexAxis:'y',
          plugins:{
            legend:{display:false},
            tooltip:{
              backgroundColor:getComputedStyle(document.documentElement).getPropertyValue('--tooltip-bg'),
              borderColor:getComputedStyle(document.documentElement).getPropertyValue('--tooltip-border'),
              borderWidth:1,titleColor:'#fff',bodyColor:'#fff',
              callbacks:{ label:(ctx)=>`${ctx.label}: ${ctx.parsed.x.toFixed(2)}` }
            }
          },
          scales:{
            x:{beginAtZero:true,max:1,grid:{color:'rgba(0,0,0,0.08)'},
               title:{display:true,text:'Relative Importance'}},
            y:{grid:{display:false}, title:{display:true,text:'Variable'}}
          }
        }
      });

    });
  </script>
</body>
</html>